{% extends 'base.html' %}

{% load static %}



{% block title %}

<title> Docket - todo</title>

{% endblock title %}

{% block message %}

<div class="container">  

</br>
{% if messages %}
  {% for message in messages %}
  

  <div class="alert alert-success alert-dismissible fade show d-flex" role="alert">
  
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Success:">
    
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
  </svg>
  
      {{message}}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  
</div>

  {% endfor %}
{% endif %}

<form method="POST" id="form1">
  {% csrf_token %}
  <div class="mb-3 w-50">
    
    <input type="text" class="form-control" name="task" placeholder="Write your task here ...">
    </div>
  
  <button type="submit" class="btn btn-primary" value="add" id="form1">Add</button>
  </br>
  </form>
  </br>
    

<table class="table table-bordered">
  
        
            <thead class = "table-light">
              
              <tr class="table-striped-columns">
                <th scope="col" >Task</th>
                <th scope="col">Status</th>
                <th scope="col">Edit</th>
                <th scope="col">Delete</th>
              </tr>
            </thead>
            <tbody>
            
              {% if all_tasks %}
              
                  {% for object in all_tasks %}
                  {% include "edit.html" %}
                  {% if object.completed %}
                <tr class="table-warning" >
                  
                  <td>{{object.task}}</td>
                  <td>Completed</td>
                  <td>
                    
                    
                    <a data-bs-toggle="modal" data-bs-target="#editModal{{object.id}}"><button type="button" class="btn btn-info btn-secondary btn-sm">Edit</button></a></td>
                  <td >
                    
                    <a href="{% url 'todo_delete' object.id%}"><button type="button" class="btn btn-danger btn-secondary btn-sm">Delete</button>
                    </a></td>
                </tr>
                {% else %}
                <tr >
                  
                  <td>{{object.task}}</td>
                  <td>Not completed</td>
                  <td><a data-bs-toggle="modal" data-bs-target="#editModal{{object.id}}"><button type="button" class="btn btn-info btn-secondary btn-sm">Edit</button></a></td>
                  <td >
                    
                    <a href="{% url 'todo_delete' object.id%}" ><button type="button" class="btn btn-danger btn-secondary btn-sm">Delete</button>
                    </a>
                  </td>
                </tr>
                {% endif %}


                {% endfor %}
                {% endif %}
                
            </tbody>
          </table>


</div>

{% endblock message %}